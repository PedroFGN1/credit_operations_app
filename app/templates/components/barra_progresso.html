<!-- Mensagem de erro se requisitado for zero -->
<p x-show="requisitado == 0" class="text-red-500 text-sm mt-2">*Insira um valor maior que zero para simular.</p>

<!-- Título da Barra de Progresso -->
<div x-show="mostrarBarra && requisitado > 0" x-transition.opacity class="mt-4 relative">
    <h3 class="capitalize text-center text-[#0056a0] font-serif text-lg">
        limite de operações previsto
    </h3>
</div>

<!-- Barra de progresso dinâmica -->
<div x-show="mostrarBarra && requisitado > 0" x-transition.opacity
    class="relative h-5 w-full bg-green-400 rounded-lg overflow-hidden mt-4">
    <div class="absolute h-full bg-red-500 hover:bg-red-300" 
        style="width: {{ dados_barra.largura_liberar }}%;"></div>
    <div class="absolute h-full bg-blue-500 hover:bg-blue-300" 
        style="left: {{ dados_barra.largura_liberar }}%; width: {{ dados_barra.largura_contratar }}%;"></div>
</div>

<!-- Legenda -->
<div x-show="mostrarBarra && requisitado > 0" x-transition.opacity class="mt-4 flex flex-col md:flex-row justify-center text-base md:gap-6 gap-3">
    <div class="flex items-center">
        <span class="w-3 h-3 bg-red-500 inline-block mr-1 rounded"></span> Operações a Liberar ({{ tabela[1].operacao_credito | separador_milhar }})
    </div>
    <div class="flex items-center">
        <span class="w-3 h-3 bg-blue-500 inline-block mr-1 rounded"></span> Operação Requisitada ({{ requisitado | separador_milhar }})
    </div>
    <div class="flex items-center">
        <span class="w-3 h-3 bg-green-500 inline-block mr-1 rounded"></span> Limite Disponível ({{ (dados_barra.limite - (tabela[1].operacao_credito + requisitado )) | separador_milhar }})
    </div>
</div>

{% if apuracao.resultado == "Operação de crédito negada!" %}
<div x-show="mostrarBarra && requisitado > 0" class="flex p-4 my-4 text-red-800 border border-red-300 rounded-lg bg-red-50" role="alert">
        <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
        <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
        </svg>
        <span class="sr-only">Info</span>
        <div>
        <span class="font-medium capitalize">{{ apuracao.resultado }}</span> &emsp;Valor da operação de crédito excedeu o permitido.<br>
        
        <ul class="mt-2 list-disc list-inside">
            <span class="font-normal">Regras violadas:</span>
            {% for apuracao in apuracao.violacoes %}
            <li class="my-1">
               {{ apuracao }}
            </li>
            {% endfor %}
        </ul>
        </div>
    </div>
{% endif %}

